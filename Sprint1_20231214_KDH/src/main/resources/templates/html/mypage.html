<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EV TIRE MALL</title>
    <link rel="stylesheet" href="../css/mypage.css">
    <link rel="icon" href="./img/favicon.jpg" type="image/x-icon">
</head>
<body>
    <div id="allWrap">
        <header> <!-- header -->
        <section id="logoSearch"> <!-- logoSearch -->
            <div id="search">
                <div id="detailSearch">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
                        <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
                    </svg>
                    <p>상세검색</p>
                </div>
            </div>
            <div id="logo">
                <img src="./images/logo.png">
            </div>
        </section>
        <section id="user"> <!-- user -->
            
            <th:block th:if="${session.user} == null">
                <div id="login">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-power" viewBox="0 0 16 16">
                        <path d="M7.5 1v7h1V1h-1z"/>
                        <path d="M3 8.812a4.999 4.999 0 0 1 2.578-4.375l-.485-.874A6 6 0 1 0 11 3.616l-.501.865A5 5 0 1 1 3 8.812z"/>
                    </svg>
                    <p>로그인</p>
                </div>
            </th:block>

            <th:block th:if="${session.user} != null">
                <div id="logout">
                    <p>[[${session.user.name}]]님, 환영합니다!</p>
                </div>
            </th:block>

            <div id="cart">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-cart" viewBox="0 0 16 16">
                    <path d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM3.102 4l1.313 7h8.17l1.313-7H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
                </svg>
                <p>장바구니</p>
            </div>
            <div id="mypage">
                <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-person" viewBox="0 0 16 16">
                    <path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4Zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10Z"/>
                </svg>
                <p>마이페이지</p>
            </div>
        </section>
    </header>
    
    <main> <!-- main -->
        <div class="mypagepart">
            <div class="pagetitle">마이페이지</div><!-- 페이지 제목 -->
            <a href="#jumpingboxmodify" class="scroll_move">회원정보수정</a> <!--modify -->
            <a href="#jumpingboxmyorder" class="scroll_move">구매내역조회</a><!-- myorder-->
            <a href="#jumpingboxmyreview" class="scroll_move">내가 쓴 리뷰</a><!-- myreview-->
            <a href="#jumpingboxmysearch" class="scroll_move">상품검색내역</a><!-- mysearch-->
        </div>
        <section id="mypageSection"> <!-- 마이페이지 섹션 리스트 묶음 -->
            <div class="mypagelist">
                <!-- jumpingbox 박스  -->
                <div id="jumpingboxmodify"></div>
                <div id="modify">
                    <div class="sectiontitle">회원정보수정</div><!-- 회원정보수정section제목 -->
                    <div id="sectionBox">
                        <form method="post">
                            <span id="inputboxname">비밀번호</span>
                            <input type="password" name="pw"  placeholder="Your Password"  autocomplete="off">
                            <span id="inputboxname">이름</span>
                            <input type="text" name="name"  th:value="${session.user.name}"  autocomplete="off">
                            <span id="inputboxname">전화번호</span>
                            <input type="text" name="phonenum"  th:value="${session.user.phonenumber}"  autocomplete="off">
                            <span id="inputboxname">이메일</span>
                            <input type="text" name="email"  th:value="${session.user.email}"  autocomplete="off">
                            <!-- <input type="hidden" name="id" th:value="${session.user.id}"> -->
                            <button class="w-btn w-btn-indigo" type="submit" id="modifyButton" onclick="javascript:modifybtn()">수정</button>
                        </form>
                    </div>
                </div> 
                <!-- jumpingbox 박스  -->
                <div id="jumpingboxmyorder"></div>

                <!-- 구매내역조회 -->
                <div class="section" id="myorder">
                    <div class="sectiontitle">구매내역조회</div> <!-- 구매내역조회section제목 -->
                    <table class="myorderList">
                        
                        <th:block th:if="${purchase.size()} == 0">
                            <tr class="myorderDetail"> 
                                <td class="myordernoData" colspan="6">구매하신 상품이 없습니다</td> <!--구매내역이 없는 경우입니다.-->
                            </tr>
                        </th:block>

                        <th:block th:if="${purchase.size()} != 0">
                            <tr id="myordertablehead">
                                <th class="myordertabledetail" colspan="2">상품정보</th> 
                                <th class="myordertabledate">주문일자</th>
                                <th class="myordertablecount">수량</th>
                                <th class="myordertableprice">총주문금액</th>
                                <th class="myordertableinsert">리뷰작성</th>
                            </tr>
                            
                            <tr class="orderListDetail" th:each="purchase : ${purchase}">
                                <td class="myordertableimage"><img th:src="${purchase.product_image}" class="img"></td> 
                                <td class="myordertablename"><a th:href="'/detail?seq='+${purchase.seq}+'&id='+${session.user.id}">[[${purchase.product_name}]]</a></td>
                                <td class="myordertabledate">[[${purchase.purchase_date}]]</td>
                                <td class="myordertablecount">[[${purchase.purchase_qty}]]</td>
                                <td class="myordertableprice">[[${purchase.product_price}]]</td>
                                <td class="myordertableinsert">
                                    <a th:href="'/review?seq='+${purchase.seq}"><button type="submit" class="insertBtn">리뷰작성</button></a>
                                </td>
                            </tr>
                        </th:block>
                    </table>
                </div> 
                <!-- jumpingbox 박스  -->
                <div id="jumpingboxmyreview"></div>
                <!-- 내가 쓴 리뷰 -->
                <div class="section" id="myreview">
                    <div class="sectiontitle">내가 쓴 리뷰</div><!-- 내가 쓴 리뷰section제목 -->
                    <table class="myreviewList">
                        <th:block th:if="${review.size()} == 0">
                            <tr class="myreviewDetail"> 
                                <td class="myreviewnoData" colspan="6">작성하신 리뷰가 없습니다</td> <!--구매내역이 없는 경우입니다.-->
                            </tr>
                        </th:block>

                        <th:block th:if="${review.size()} != 0">
                            <tr id="myreviewtablehead">  
                                <th class="myreviewtableorderdetail" colspan="2">상품정보</th> 
                                <th class="myreviewtableorderdate">주문일자</th>
                                <th class="myreviewtableprice">리뷰 내용</th>
                                <th class="myreviewtableinsert">리뷰 삭제</th>
                            </tr>
                
                            <tr class="orderListDetail" th:each="review : ${review}"> 
                                <td class="myreviewtableimage"><img th:src="${review.product_image}" class="img"></td> 
                                <td class="myreviewtablename"><a th:href="'/detail?seq='+${review.seq}+'&id='+${session.user.id}">[[${review.product_name}]]</a></td>
                                <td class="myreviewtabledate">[[${review.purchase_date}]]</td>
                                <td class="myreviewtablereviewcontent">[[${review.content}]]</td>
                                <td class="myreviewtableinsert">
                                    <form method="post">
                                        <input type="hidden" th:value="${review.review_seq}" name="review_seq">
                                        <button type="submit" class="insertBtn" onclick="javascript:orderdeletebtn()">삭제</button>
                                    </form>
                                </td>
                            </tr>
                        </th:block>
                    </table>
                </div> 
                <!-- jumpingbox 박스  -->
                <div id="jumpingboxmysearch"></div>
                <!-- 상품 검색 내역 -->
                <div class="section" id="mysearch">
                    <div class="sectiontitle">상품 검색 내역</div>
                    <table class="mysearchList">
                        
                        <th:block th:if="${search.size()} == 0">
                            <tr class="mysearchDetail"> 
                                <td class="myreviewnoData" colspan="6">검색하신 상품이 없습니다</td> <!--검색내역이 없는 경우입니다.-->
                            </tr>
                        </th:block>
                        
                        <th:block th:if="${search.size()} != 0">
                            <tr id="mysearchtablehead">  
                                <th class="mysearchtableorderdetail" colspan="2">상품정보</th>
                                <th class="mysearchtableinsert">내역 삭제</th>
                            </tr>
    
                            <tr class="mysearchDetail" th:each="search : ${search}"> 
                                <td class="mysearchtableimage"><img th:src="${search.product_image}" class="img"></td> 
                                <td class="mysearchtablename"><a th:href="'/detail?seq='+${search.seq}+'&id='+${session.user.id}">[[${search.product_name}]]</a></td>
                                <td class="mysearchtableinsert">
                                    <form method="post">
                                        <input type="hidden" th:value="${search.search_seq}" name="search_seq">
                                        <button type="submit" class="insertBtn" onclick="javascript:searchdeletebtn()">삭제</button>
                                    </form>
                                </td>
                            </tr>
                        </th:block>
                    </table>
                </div> 
                <!-- jumpingbox 박스  -->
                <div id="paddingboxbottom"></div>
            </div>
        </section>
    </main>

    <footer> <!-- footer -->
        <div id="introduce">
            <div id="introduceWrap">
                <p>주소 : 광주광역시 광산구 소촌로 152번길 37</p>
                <p>대표이사 : 조가영</p>
                <p>사업자등록번호 : 108-35-62845</p>
            </div>
        </div>
        <div id="help">
            <div id="helpWrap">
                <p>고객센터 8356 - 2845</p>
                <p>평일 09:00 ~ 18:00</p>
                <p>토요일, 공휴일 휴무</p>
            </div>
        </div>
    </footer>
    </div>

    <div id="checkBox"> <!-- 상세검색 모달 -->
        <div id="checkBoxX">
            <p>&#215;</p>
        </div>
        <div id="choiceTitle">
            <div id="choiceWrap">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
                    <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
                </svg>
                <p>상세검색</p>
            </div>
        </div>
        <form action="/searchlist" method="get">
            <div id="choice">
                <div id="manufacture"> 
                    <div id="manufactureTitle">
                        <p>제조사별</p>
                    </div>
                    <ul id="manufactureCheck">
                        <li>
                            <input type="checkbox" name="hankook" value="한국타이어">
                            한국타이어
                        </li>
                        <li>
                            <input type="checkbox" name="kumho" value="금호타이어">    
                            금호타이어
                        </li>
                        <li>
                            <input type="checkbox" name="nexen" value="넥센타이어">
                            넥센타이어
                        </li>
                        <li>
                            <input type="checkbox" name="michelin" value="미쉐린타이어">
                            미쉐린타이어
                        </li>
                        <li>
                            <input type="checkbox" name="continental" value="콘티넨탈타이어">
                            콘티넨탈타이어
                        </li>
                    </ul>
                </div>
                <div id="car"> 
                    <div id="carTitle">
                        <p>적용차종</p>
                    </div>
                    <ul id="carCheck">
                        <li>
                            <input type="checkbox" name="pcar" value="승용차용">
                            승용차용
                        </li>
                        <li>
                            <input type="checkbox" name="suvcar" value="SUV, RV용">    
                            SUV,RV용
                        </li>
                    </ul>
                </div>
                <div id="character"> 
                    <div id="characterTitle">
                        <p>타이어특성</p>
                    </div>
                    <ul id="characterCheck">
                        <li>
                            <input type="checkbox" name="comfort" value="컴포트형">
                            컴포트형
                        </li>
                        <li>
                            <input type="checkbox" name="sports" value="스포츠형">    
                            스포츠형
                        </li>
                        <li>
                            <input type="checkbox" name="lownoise" value="저소음">
                            저소음
                        </li>
                    </ul>
                </div>
                <div id="mm"> 
                    <div id="mmTitle">
                        <p>단면폭(mm)</p>
                    </div>
                    <ul id="mmCheck">
                        <div id="mmCheck1">
                            <li>
                                <input type="checkbox" name="125" value="125mm">
                                125mm
                            </li>
                            <li>
                                <input type="checkbox" name="205" value="205mm">    
                                205mm
                            </li>
                            <li>
                                <input type="checkbox" name="215" value="215mm">
                                215mm
                            </li>
                            <li>
                                <input type="checkbox" name="225" value="225mm">
                                225mm
                            </li>
                            <li>
                                <input type="checkbox" name="235" value="235mm">
                                235mm
                            </li>
                        </div>
                        <div id="mmCheck2">
                            <li>
                                <input type="checkbox" name="245" value="245mm">
                                245mm
                            </li>
                            <li>
                                <input type="checkbox" name="255" value="255mm">    
                                255mm
                            </li>
                            <li>
                                <input type="checkbox" name="265" value="265mm">
                                265mm
                            </li>
                            <li>
                                <input type="checkbox" name="275" value="275mm">
                                275mm
                            </li>
                            <li>
                                <input type="checkbox" name="285" value="285mm">
                                285mm
                            </li>
                        </div>
                        <div id="mmCheck3">
                            <li>
                                <input type="checkbox" name="305" value="305mm">
                                305mm
                            </li>
                        </div>
                    </ul>
                </div>
                <div id="percent"> 
                    <div id="percentTitle">
                        <p>편평비(%)</p>
                    </div>
                    <ul id="percentCheck">
                        <div id="percentCheck1">
                            <li>
                                <input type="checkbox" name="30per" value="30%">
                                30%
                            </li>
                            <li>
                                <input type="checkbox" name="35per" value="35%">    
                                35%
                            </li>
                            <li>
                                <input type="checkbox" name="40per" value="40%">
                                40%
                            </li>
                            <li>
                                <input type="checkbox" name="45per" value="45%">
                                45%
                            </li>
                            <li>
                                <input type="checkbox" name="50per" value="50%">
                                50%
                            </li>
                        </div>
                        <div id="percentCheck2">
                            <li>
                                <input type="checkbox" name="55per" value="55%">
                                55%
                            </li>
                            <li>
                                <input type="checkbox" name="60per" value="60%">    
                                60%
                            </li>
                            <li>
                                <input type="checkbox" name="80per" value="80%">
                                80%
                            </li>
                        </div>
                    </ul>
                </div>
                <div id="inch"> 
                    <div id="inchTitle">
                        <p>휠지름(인치)</p>
                    </div>
                    <ul id="inchCheck">
                        <div id="inchCheck1">
                            <li>
                                <input type="checkbox" name="13inch" value="13인치">
                                13인치
                            </li>
                            <li>
                                <input type="checkbox" name="16inch" value="16인치">    
                                16인치
                            </li>
                            <li>
                                <input type="checkbox" name="17inch" value="17인치">
                                17인치
                            </li>
                            <li>
                                <input type="checkbox" name="18inch" value="18인치">
                                18인치
                            </li>
                            <li>
                                <input type="checkbox" name="19inch" value="19인치">
                                19인치
                            </li>
                        </div>
                        <div id="inchCheck2">
                            <li>
                                <input type="checkbox" name="20inch" value="20인치">
                                20인치
                            </li>
                            <li>
                                <input type="checkbox" name="21inch" value="21인치">    
                                21인치
                            </li>
                            <li>
                                <input type="checkbox" name="22inch" value="22인치">
                                22인치
                            </li>
                        </div>
                    </ul>
                </div>
            </div>
            <div id="choiceButtonWrap">
                <button id="choiceButton" type="sumit">검색</button>
            </div>
        </form>
    </div>

    <script src="js/mypage.js"></script>
</body>
</html>